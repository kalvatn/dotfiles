# vim: filetype=muttrc

# receive
set folder = "~/.mail/gmail"
set spoolfile = "+inbox"
mailboxes = +inbox +drafts +sent +starred +important +spam +trash +archive
set mbox="+archive"
set postponed = "+drafts"
# unset record as gmail smtp does this by default
unset record

# send
set smtp_url = "smtps://jonterje.kalvatn@smtp.gmail.com"
set smtp_pass = `secret-tool lookup mail jonterje.kalvatn@gmail.com`
set from = "jonterje.kalvatn@gmail.com"
set hostname = "gmail.com"
set ssl_force_tls = yes

# bindings
macro index,pager a "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive"
macro index,pager d "<save-message>=[Gmail]/Trash<enter><enter>" "Trash"
macro index gi "<change-folder>=INBOX<enter>" "Go to inbox"
macro index ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
macro index gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
macro index gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"

# required to not overwrite credentials when switching accounts
account-hook $folder "set from = $from hostname = $hostname smtp_url = $smtp_url smtp_pass = $smtp_pass
