#!/bin/bash

if pgrep -x spotify &> /dev/null; then
  case "$1" in
      Next|Previous|PlayPause)
          dbus-send --print-reply --dest=org.mpris.MediaPlayer2.spotify /org/mpris/MediaPlayer2 org.mpris.MediaPlayer2.Player."$1" &> /dev/null
          ;;
      *)
          exit 1
          ;;
  esac
fi

if pgrep mopidy &> /dev/null; then
  player="ncmpcpp"
  case "$1" in
    Next)
      "$player" next
      ;;
    Previous)
      "$player" prev
      ;;
    PlayPause)
      "$player" toggle
      ;;
    *)
      exit 1
      ;;
  esac
fi
